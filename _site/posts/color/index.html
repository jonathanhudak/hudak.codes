<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hudak.codes - Generating random colors for fun and profit</title>
  <link rel="stylesheet" href="https://the.missing.style/v1.0.8/missing.css">
  <link rel="stylesheet" href="https://the.missing.style/v1.0.8/missing-prism.css">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <main>
    <article>
      <header>
        <a href="/">hudak.codes</a>
      </header>

      
        <h1>Generating random colors for fun and profit</h1>
      

      <p>I came across this snippet of code on Stack Overflow and thought it was pretty cool. It generates a random color in hex format.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token comment">// https://stackoverflow.com/questions/61922779/how-to-generate-non-repeating-random-results</span>
<span class="token keyword">function</span> <span class="token function">generateRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">"#"</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>I extended it to generate a grid of random colors:</p>
<div><iframe src="https://stackblitz.com/edit/typescript-1b4bno?embed=1&amp;file=index.ts" style="width: 100%; height: 500px; border: 0; border-radius: 4px; overflow: hidden;"></iframe></div>
<p>I asked ChatGPT if it could make edits to ensure the color would be unique. It suggested using a cache. Given that I only plan to generate a few hundred numbers that seems simple and effective.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">const</span> generatedColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">generateRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> newColor<span class="token punctuation">;</span>
  <span class="token keyword">do</span> <span class="token punctuation">{</span>
    newColor <span class="token operator">=</span> <span class="token string">"#"</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>generatedColors<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>newColor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  generatedColors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>I then asked ChatGPT if it could update the code to return <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/hsl">HSL colors</a> instead.</p>
<p>This function produces much different results!</p>
<div><iframe src="https://stackblitz.com/edit/typescript-srptzz?file=index.ts" style="width: 100%; height: 500px; border: 0; border-radius: 4px; overflow: hidden;"></iframe></div>
<blockquote>
<p>Maybe one day I will extend this to output complementary color combinations...</p>
</blockquote>
<p>I ask Chat GPT a moment later to generate appealing color combinations in sets of 5. It came up with this:</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">const</span> generatedColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">generateRandomColorSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hue <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> saturationBase <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">61</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> lightnessBase <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">41</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> alpha <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> saturationStep <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> lightnessStep <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> colorSet <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> saturation <span class="token operator">=</span> saturationBase <span class="token operator">+</span> i <span class="token operator">*</span> saturationStep<span class="token punctuation">;</span>
    <span class="token keyword">const</span> lightness <span class="token operator">=</span> lightnessBase <span class="token operator">+</span> i <span class="token operator">*</span> lightnessStep<span class="token punctuation">;</span>
    <span class="token keyword">const</span> newColor <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hsla(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>saturation<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lightness<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>alpha<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    colorSet<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Check if the color set is unique, otherwise try again</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>
    generatedColors<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      set<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> color <span class="token operator">===</span> colorSet<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    colorSet <span class="token operator">=</span> <span class="token function">generateRandomColorSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  generatedColors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>colorSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> colorSet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div><iframe src="https://stackblitz.com/edit/typescript-qpw54t?file=style.css" style="width: 100%; height: 500px; border: 0; border-radius: 4px; overflow: hidden;"></iframe></div>
<p>Still kind of dull, but maybe I will play around with it more later. Try it out and see what you come up with!</p>
    </article>
  </main>
  <footer class="footer">
    <a href="https://jonathanhudak.com">Jonathan Hudak © 2023</a>
    <a href="https://github.com/jonathanhudak">Github</a>
    <a href="https://twitter.com/hudak_jonathan">Twitter</a>
    <a href="https://www.linkedin.com/in/jonathan-hudak-084a529/">LinkedIn</a>
  </footer>

</body></html>